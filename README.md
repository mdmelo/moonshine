```
from useful sensors

dont forget to submodule init/update




1. install uv

$ mkdir uv && cd uv
$ cd uv
$ curl -LsSf https://astral.sh/uv/install.sh | sh
downloading uv 0.5.15 x86_64-unknown-linux-gnu
no checksums to verify
installing to /home/mike/.local/bin
  uv
  uvx
everything's installed!

To add $HOME/.local/bin to your PATH, either restart your shell or run:

    source $HOME/.local/bin/env (sh, bash, zsh)
    source $HOME/.local/bin/env.fish (fish)


$ source $HOME/.local/bin/env
$ which uv
/home/mike/.local/bin/uv




2. clone repo, create virtualenv, install python and required packages

$ git clone https://github.com/mdmelo/moonshine.git
Cloning into 'moonshine'...
remote: Enumerating objects: 55, done.
remote: Counting objects: 100% (55/55), done.
remote: Compressing objects: 100% (43/43), done.
remote: Total 55 (delta 20), reused 40 (delta 9), pack-reused 0 (from 0)
Receiving objects: 100% (55/55), 740.46 KiB | 5.57 MiB/s, done.
Resolving deltas: 100% (20/20), done.




$ uv venv --python 3.9 venv
Using CPython 3.9.21
Creating virtual environment at: venv
Activate with: source venv/bin/activate
mike@debian12:/tmp/moonshine$ source venv/bin/activate
(venv) mike@debian12:/tmp/moonshine$ python -V
Python 3.9.21



$ uv pip install -r requirements-mike-voicecontrol.txt
Using Python 3.9.21 environment at: venv
...




3. download the moonshine onnx models from hugging face (this takes awhile)

$ mkdir -p models/base
$ mkdir -p models/tiny

tiny model:
$ python moonsave.py tiny
<ignore cuda warnings>

base model:
$ python moonsave.py base
<ignore cuda warnings>


$ tree models/
models/
├── base
│   ├── cached_decode.onnx
│   ├── encode.onnx
│   ├── preprocess.onnx
│   └── uncached_decode.onnx
└── tiny
    ├── cached_decode.onnx
    ├── encode.onnx
    ├── preprocess.onnx
    └── uncached_decode.onnx




4. test using recorded audio and the base model

$ python moonrecorded.py
...
using recorded audio from  ./moonshine/assets/beckett.wav
using saved model from ./models/base
model loaded locally...
tokens generated by model...
text: |['Ever tried ever failed, no matter try again fail again fail better.']|.
elapsed: 3838.12 ms





5. test using live audio (default playback and recording devices) and the base model

(voice commands are "add task", "delete task", "list tasks", "exit")

$ python assist01.py
pygame 2.6.1 (SDL 2.28.4, Python 3.9.20)
Hello from the pygame community. https://www.pygame.org/contribute.html
TTS>>>  Greetings, Wahoo!
Loading Moonshine model 'moonshine/base' (using ONNX runtime) ...
using saved model from ./models/base
moonshine ASR ready...
moonshine: start

Moonshine VR supplies 'Add task.'
TTS>>>  Sure, what is the task?
moonshine: end
moonshine: start

Moonshine VR supplies 'Call Pete.'
TTS>>>  Sure, adding call pete. to your task list
TTS>>>  You have 1 tasks now.
moonshine: end
moonshine: start

Moonshine VR supplies 'List tasks.'
TTS>>>  Sure, your tasks are:
TTS>>>  call pete.
moonshine: end
moonshine: start

Moonshine VR supplies 'Delete task.'
TTS>>>  Sure, what is the task?
moonshine: end
moonshine: start

Moonshine VR supplies 'Call Pete.'
TTS>>>  Sure, removing call pete. from your task list
TTS>>>  You have 0 tasks now.
moonshine: end
moonshine: start

Moonshine VR supplies 'Exit.'
TTS>>>  Goodbye!

                  model_name :  model moonshine/base with ONNX runtime
                  MIN_REFRESH_SECS :  0.2s

                  number inferences :  37
                  mean inference time :  0.11s
                  model realtime factor :  8.51x

Cached captions.
Add task. Call Pete. Less tasks. List, Tasks. List tasks. Delete task. Call Pete. Exit.
```
